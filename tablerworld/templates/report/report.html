<html>
    <head>
        <meta charset="utf-8" />
        <link href="report.css" rel="stylesheet" />
        <title>Report</title>
        <meta name="description" content="Report example" />
    </head>

    <body>
        <article id="cover">
            <h1>Report Annuario Round Table Italia 2023/2024</h1>
            <address>
                <strong>Riccardo Dal Fiume</strong>
                Editore Nazionale
            </address>
            <address>
                <strong>editore@roundtable.it</strong>
                https://www.roundtable.it
            </address>
        </article>

        <article id="contents">
            <h2>Contenuti</h2>
            <h3>Zone</h3>
            <ul>
                {% for index, area in areas.iterrows() %}
                <li><a href="#{{ area.rt_area_subdomain }}"></a></li>
                {% endfor %}
            </ul>

            <h3>Tavole</h3>
            <ul>
                {% for index, club in clubs.iterrows() %}
                <li><a href="#{{ club.rt_club_subdomain }}"></a></li>
                {% endfor %}
            </ul>
        </article>

        <article id="skills">
            <h2 id="skills-title">Tablers</h2>

            {% for index, area in clubs_in_areas.iterrows() %}
            <section class="areas">
                <h3 id="{{ area.rt_area_subdomain }}">Round Table {{ area.rt_area_name }}</h3>

                {% for club in area.clubs|sort(attribute='rt_club_number') %}
                <section class="clubs">
                    <div class="club-frontpage">
                        <div class="club-item-logo">
                            <div class="club-logo-placeholder"></div>
                        </div>
                        <h4 class="club-item" id="{{ club.rt_club_subdomain }}">{{ club.rt_club_name }}</h4>

                        <div class="club-item not-derived-from-tw">
                            <p class="bg-text">DATI NON DERIVATI DA TABLERWORLD</p>

                            <p>
                                Terza Zona<br />
                                CHARTER MEETING: 01 GENNAIO 1900<br />
                                TAVOLA MADRINA: ROUND TABLE NN CITTA'<br />
                            </p>
                            <h5>RIUNIONI</h5>
                            <p>
                                1° martedì e 3° giovedì del mese<br />
                                Location – Indirizzo – CAP Città (PROVINCIA)<br />
                                +39 000 00000000<br />
                            </p>
                            <h5>RECAPITI DIGITALI</h5>
                            <p>
                                nometavola@roundtable.it – nometavola@pecroundtable.it<br />
                                www.sitotavola.it<br />
                                (Facebook) -<br />
                                (Instagram) -<br />
                            </p>
                        </div>
                        <div class="club-item">
                            <h5>CONSIGLIO DIRETTIVO DI TAVOLA</h5>
                            <p>
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / President") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last
                                %}, {% endif %} {% endfor %} (P)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / Vice-President") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not
                                loop.last %}, {% endif %}{% endfor %} (VP)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / Past-President") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not
                                loop.last %}, {% endif %}{% endfor %} (PP)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board Assistants / C.S.O.") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not
                                loop.last %}, {% endif %}{% endfor %} (CONS)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / I.R.O.") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last %},
                                {% endif %}{% endfor %} (C)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / Treasurer") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last
                                %}, {% endif %}{% endfor %} (T)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board / Secretary") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last
                                %}, {% endif %}{% endfor %} (S)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "-") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last %}, {% endif
                                %}{% endfor %} (CER)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "-") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not loop.last %}, {% endif
                                %}{% endfor %} (GM)<br />
                                {% for tabler in get_position_in_club(club.rt_club_number, "Board Assistants / Webmaster") %}{{ tabler.first_name }} {{ tabler.last_name }}{% if not
                                loop.last %}, {% endif %}{% endfor %} (WM)<br />
                            </p>
                        </div>
                    </div>

                    {% for index, row in df.loc[df["rt_club_number"] == club.rt_club_number].sort_values(by="last_name").iterrows() %}
                    <section class="tabler" id="row-{{index}}">
                        <div>
                            {% if row.profile_pic %}
                            <img class="profile-pic" src="./profile_pics/{{ row.profile_pic_file }}" />
                            {% else %}
                            <div class="profile-pic-placeholder"></div>
                            {% endif %}
                        </div>
                        <div class="tabler-desc">
                            <strong>{{ row.last_name|upper }} {{ row.first_name }}</strong>
                            {{ "({})".format(row.birth_date.strftime('%d/%m/%Y')) if pd.isnull(row.birth_date) is false }}
                            <em>{{row.name_partner}}</em><br />

                            {{ row.job }}<br />
                            {{ row.address }}<br />
                            <strong>{{ row.phonenumbers }}</strong><br />
                            {{ row.email }}<br />
                        </div>
                        <!-- <div class="tabler-desc">
                            <strong>{{ row.last_name|upper }} {{ row.first_name }}</strong>
                            {{ "({})".format(row.birth_date.strftime('%d/%m/%Y')) if pd.isnull(row.birth_date) is false }}
                            <em>{{row.name_partner}}</em><br />

                            {{ row.job }}<br />
                            {{ row.address }}<br />
                            <strong>{{ row.phonenumbers }}</strong><br />
                            {{ row.email }}<br />
                        </div> -->
                    </section>
                    {% endfor %}
                </section>
                {% endfor %}
            </section>
            {% endfor %}
        </article>

        <article id="chapter">
            <h2 id="chapter-title">Fine report</h2>
        </article>
    </body>
</html>
